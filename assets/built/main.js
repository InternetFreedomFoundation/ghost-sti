async function postFormData({url:t,formData:n}){const e=await fetch(t,{method:"POST",body:n});if(e.ok)return await e.text();throw t=await e.text(),new Error(t)}async function handleFormSubmit(t){t.preventDefault();const n=t.currentTarget;t=n.action;try{var e=new FormData(n);encodedEmail=await postFormData({url:t,formData:e}),window.open(encodedEmail),n.reset()}catch(t){alert("Something went wrong, Please try again later")}}$(function(){$("#petitionForm").submit(function(t){t.preventDefault();t={name:$("#nameField").val(),email:$("#emailField").val(),isIndividual:"individual"===$("#typeField").val(),organization:$("#organizationField").val()};$("#submitButton")[0].disabled=!0,$("#submitButton")[0].innerHTML="Submitting...",$.ajax({data:JSON.stringify(t),type:"POST",processData:!1,contentType:"application/json",url:"https://api.internetfreedom.in/dev/petition/submission"}).then(function(t){"ok"===t.status&&($("#submitButton")[0].disabled=!1,$("#submitButton")[0].innerHTML="Sign the petition",$("#successMessage").show())}).catch(function(t){$("#submitButton")[0].disabled=!0,$("#submitButton")[0].innerHTML="Sign the petition",$("#errorMessage").show()})})});const bsnlForm=document.getElementById("bsnl-form");bsnlForm.addEventListener("submit",handleFormSubmit);
//# sourceMappingURL=main.js.map